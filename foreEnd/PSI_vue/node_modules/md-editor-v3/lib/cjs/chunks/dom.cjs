"use strict";const E=require("@vavt/util"),y=(e,d)=>{const t=n=>{const o=e.parentElement||document.body,u=o.offsetWidth,i=o.offsetHeight,{clientWidth:l}=document.documentElement,{clientHeight:m}=document.documentElement,p=n.offsetX,v=n.offsetY,a=f=>{let s=f.x+document.body.scrollLeft-document.body.clientLeft-p,c=f.y+document.body.scrollTop-document.body.clientTop-v;s=s<1?1:s<l-u-1?s:l-u-1,c=c<1?1:c<m-i-1?c:m-i-1,d?d(s,c):(o.style.left=`${s}px`,o.style.top=`${c}px`)};document.addEventListener("mousemove",a);const r=()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",r)};document.addEventListener("mouseup",r)};return e.addEventListener("mousedown",t),()=>{e.removeEventListener("mousedown",t)}},L=(e,d="")=>{const t=document.getElementById(e.id),n=e.onload;e.onload=null;const o=function(u){typeof n=="function"&&n.bind(this)(u),e.removeEventListener("load",o)};t?d!==""&&(t.addEventListener("load",o),Reflect.get(window,d)&&t.dispatchEvent(new Event("load"))):(e.addEventListener("load",o),document.head.appendChild(e))},h=E.debounce((e,d,t)=>{const n=document.getElementById(e);n&&n.setAttribute(d,t)},10);exports.appendHandler=L;exports.keyMove=y;exports.updateHandler=h;
